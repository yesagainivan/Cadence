<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadence</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
</head>

<body>
  <div id="app">
    <header class="editor-header">
      <div class="logo">
        <img src="/logo.svg" alt="Cadence" class="logo-icon" width="24" height="24" />
        <span class="logo-text">Cadence</span>
      </div>
      <div class="controls">
        <button id="play-btn" class="btn btn-icon btn-play" title="Play (Cmd+Enter)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <polygon points="5,3 19,12 5,21" />
          </svg>
        </button>
        <button id="stop-btn" class="btn btn-icon" title="Stop">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <rect x="4" y="4" width="16" height="16" rx="2" />
          </svg>
        </button>
        <div class="tempo-control">
          <input type="range" id="tempo" min="60" max="200" value="120" />
          <span id="tempo-value">120</span>
          <span class="tempo-label">BPM</span>
        </div>
        <div class="output-mode-control">
          <div class="output-mode-toggle" title="Output Mode">
            <button id="mode-audio" class="mode-btn active" data-mode="audio" title="Audio Only"></button>
            <button id="mode-midi" class="mode-btn" data-mode="midi" title="MIDI Only"></button>
            <button id="mode-both" class="mode-btn" data-mode="both" title="Audio + MIDI"></button>
          </div>
          <select id="midi-output" class="midi-select hidden" title="MIDI Output Device">
            <option value="">Select MIDI...</option>
          </select>
        </div>
        <button id="theme-toggle" class="btn btn-icon" title="Toggle theme">
          <svg class="icon-sun" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <circle cx="12" cy="12" r="5" />
            <path
              d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
          </svg>
          <svg class="icon-moon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" style="display: none;">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
          </svg>
        </button>
      </div>
    </header>
    <main class="editor-main">
      <div class="editor-container">
        <div id="editor"></div>
        <div id="piano-roll-container">
          <div class="piano-roll-header">
            <span class="piano-roll-title">Piano Roll</span>
            <button id="piano-roll-lock" class="btn btn-icon" title="Lock piano roll to current pattern">
              <svg class="icon-unlocked" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 9.9-1" />
              </svg>
              <svg class="icon-locked" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" style="display: none;">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
              </svg>
            </button>
          </div>
          <canvas id="piano-roll"></canvas>
        </div>
      </div>
      <aside id="sidebar">
        <div class="panel" id="output-panel">
          <h3>Output</h3>
          <pre id="output"></pre>
        </div>
        <div class="panel" id="properties-panel">
          <h3>Properties</h3>
          <p class="placeholder">Select an element to edit</p>
        </div>
      </aside>
    </main>
    <footer class="editor-footer">
      <span id="status">
        <span class="status-dot"></span>
        Ready
      </span>
      <span id="cursor-pos">Ln 1, Col 1</span>
    </footer>
  </div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>